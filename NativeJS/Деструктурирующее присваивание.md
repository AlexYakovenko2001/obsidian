[[NATIVE JS]]
## Деструктурирующее присваивание
В JavaScript есть две чаще всего используемые структуры данных – это `Object` и `Array`.

-   Объекты позволяют нам создавать одну сущность, которая хранит элементы данных по ключам.
-   Массивы позволяют нам собирать элементы данных в упорядоченный список.

Но когда мы передаём их в функцию, то ей может понадобиться не объект/массив целиком, а элементы по отдельности.

_Деструктурирующее присваивание_ – это специальный синтаксис, который позволяет нам «распаковать» массивы или объекты в несколько переменных, так как иногда они более удобны.

#### Деструктуризация массива
Вот пример, деструктуризации массива на переменные:
![[Pasted image 20220827114411.png]]

> «Деструктурирующее присваивание» не уничтожает массив. Оно вообще ничего не делает с правой частью присваивания, его задача – только скопировать нужные значения в переменные.
>
>Это просто короткий вариант записи:
>![[Pasted image 20220827114709.png]]

> Нежелательные элементы массива также могут быть отброшены с помощью дополнительной запятой:
> ![[Pasted image 20220827114832.png]]

> Мы можем использовать что угодно «присваивающее» с левой стороны.
> 
> Например, можно присвоить свойству объекта:![[Pasted image 20220827115007.png]]

> Существует хорошо известный трюк для обмена значений двух переменных с использованием деструктурирующего присваивания:
> ![[Pasted image 20220827115112.png]]

###### Остаточные параметры:
Обычно, если массив длиннее, чем список слева, «лишние» элементы опускаются.

Например, здесь берутся только первые два элемента, а остальные просто игнорируются:![[Pasted image 20220827115234.png]]

Если мы хотим не просто получить первые значения, но и собрать все остальные, то мы можем добавить ещё один параметр, который получает остальные значения, используя оператор «остаточные параметры» – троеточие (`"..."`):![[Pasted image 20220827115327.png]]
Вместо `rest` можно использовать любое другое название переменной, просто убедитесь, что перед переменной есть три точки и она стоит на последнем месте в деструктурирующем присваивании.

###### Значения по умолчанию
Если в массиве меньше значений, чем в присваивании, то ошибки не будет. Отсутствующие значения считаются неопределёнными.

Если мы хотим, чтобы значение «по умолчанию» заменило отсутствующее, мы можем указать его с помощью `=`:![[Pasted image 20220827115511.png]]

#### Деструктуризация объекта
Деструктурирующее присваивание также работает с объектами.

Синтаксис:![[Pasted image 20220827115619.png]]

Например:
![[Pasted image 20220827115716.png]]
Порядок не имеет значения. Вот так – тоже работает:![[Pasted image 20220827115758.png]]

Если мы хотим присвоить свойство объекта переменной с другим названием, например, свойство `options.width` присвоить переменной `w`, то мы можем использовать двоеточие:![[Pasted image 20220827115859.png]]

Для потенциально отсутствующих свойств мы можем установить значения по умолчанию, используя `"="`, как здесь:![[Pasted image 20220827115952.png]]

Если у нас есть большой объект с множеством свойств, можно взять только то, что нужно:![[Pasted image 20220827120050.png]]

###### Остаточные параметры:
Что если в объекте больше свойств, чем у нас переменных? Можем ли мы взять необходимые нам, а остальные присвоить куда-нибудь?

Можно использовать троеточие, как и для массивов. Выглядит так:![[Pasted image 20220827120639.png]]

###### Вложенная деструктуризация
Если объект или массив содержит другие вложенные объекты или массивы, то мы можем использовать более сложные шаблоны с левой стороны, чтобы извлечь более глубокие свойства.

В приведённом ниже коде `options` хранит другой объект в свойстве `size` и массив в свойстве `items`. Шаблон в левой части присваивания имеет такую же структуру, чтобы извлечь данные из них:![[Pasted image 20220827120918.png]]
Весь объект `options`, кроме свойства `extra`, которое в левой части отсутствует, присваивается в соответствующие переменные:![[Pasted image 20220827120949.png]]
В итоге у нас есть `width`, `height`, `item1`, `item2` и `title` со значением по умолчанию.

Заметим, что переменные для `size` и `items` отсутствуют, так как мы взяли сразу их содержимое.

